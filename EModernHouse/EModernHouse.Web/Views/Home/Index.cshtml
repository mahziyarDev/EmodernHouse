@using EModernHouse.DataLayer.Entities.Site
@using EModernHouse.Application.EntitiesExtensions
@using EModernHouse.Application.Utils
@using EModernHouse.DataLayer.Entities.Product
@model Tuple<List<Product>, List<Product>, List<Product>>
@{
    ViewData["Title"] = "صفحه اصلی";
    var banner = ViewBag.Banner as List<SiteBanner>;
    var newProducts = ViewBag.newProduct as List<Product>;
}

<!-- Page Content -->
<main class="page-content">
    <div class="container">
        @if (banner != null && banner.Any(s => s.BannerPlacement == BannerPlacement.Home_5))
        {
            @foreach (var bannerHead in banner.Where(s => s.BannerPlacement == BannerPlacement.Home_5))
            {
                <div class="row d-none d-sm-block">
                    <div class="@bannerHead.ColSize mb-3">
                        <div class="banner">
                            <a href="@bannerHead.Url">
                                <img src="@bannerHead.GetBannerMainImageAddress()" alt="@bannerHead.Alt">
                            </a>
                        </div>
                    </div>
                </div>
            }


        }

        <div class="row mb-4">
            <div class="col-lg-8 ml-lg-0 mb-3">

                @await Component.InvokeAsync("HomeSlider")

            </div>

            @*for site banner*@

            <div class="col-lg-4">
                @if (banner != null && banner.Any(s => s.BannerPlacement == BannerPlacement.Home_1))
                {
                    <div class="row">
                        @foreach (var banners in banner.Where(s => s.BannerPlacement == BannerPlacement.Home_1))
                        {
                            <div class="@banners.ColSize">
                                <div class="banner mb-3">
                                    <a href="@banners.Url">
                                        <img src="@banners.GetBannerMainImageAddress()" alt="@banners.Alt">
                                    </a>
                                </div>
                            </div>
                        }
                    </div>
                }

            </div>
        </div>
        <section class="product-carousel in-box">
            <div class="section-title">
                <i class="fas fa-tags"></i>
                جدید ترین محصولات
            </div>
            <div class="swiper-container slider-lg">
                <div class="swiper-wrapper">
                    @foreach (var newProduct in Model.Item1)
                    {
                        <div class="swiper-slide">
                            <div class="product-card">
                                <div class="product-card-top">
                                    <a  asp-area="" asp-controller="Product" asp-action="ProductDetail" asp-route-productId="@newProduct.Id" asp-route-title="@newProduct.Title.FixTextForUrl()" class="product-image">
                                        <img src="@(PathExtensions.ProductImageThumb + newProduct.ImageName)" alt="@newProduct.Title">
                                    </a>
                                    <div class="product-card-actions">
                                       
                                    </div>
                                </div>
                                <div class="product-card-middle">
                                    <div class="ratings-container">
                                    </div>
                                    <h6 class="product-name text-center">
                                        <a asp-area="" asp-controller="Product" asp-action="ProductDetail" asp-route-productId="@newProduct.Id" asp-route-title="@newProduct.Title.FixTextForUrl()" >
                                            @newProduct.Title
                                        </a>
                                    </h6>
                                    <div class="product-price product-price-clone">@newProduct.Price.ToString("#,0") تومان</div>
                                </div>
                                <div class="product-card-bottom">
                                    <div class="product-price">
                                        @newProduct.Price.ToString("#,0") تومان
                                    </div>
                                    <a href="#" class="btn-add-to-cart">
                                        <i class="fad fa-cart-plus"></i>
                                        نمایش جزئیات
                                    </a>
                                </div>
                            </div>
                        </div>
                    }

                    
                </div>
                <!-- Add Arrows -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </section>
        <div class="row align-items-center mb-4">
            <div class="col-lg-12 col-md-12 order-2 order-lg-1">
                @if (banner != null && banner.Any(s => s.BannerPlacement == BannerPlacement.Home_2))
                {
                    <div class="row mt-4 mt-lg-0">
                        @foreach (var banners in banner.Where(s => s.BannerPlacement == BannerPlacement.Home_2))
                        {
                            <div class="@banners.ColSize">
                                <div class="banner mb-4">
                                    <a href="@banners.Url">
                                        <img src="@banners.GetBannerMainImageAddress()" alt="@banners.Alt">
                                    </a>
                                </div>
                            </div>
                        }

                    </div>
                }

            </div>

        </div>
        <section class="product-carousel in-box">
            <div class="section-title">
                <i class="fas fa-angle-double-down"></i>
                ارزان ترین محصولات
            </div>
            <div class="swiper-container slider-lg">
                <div class="swiper-wrapper">
                    @foreach (var newProduct in Model.Item2)
                    {
                        <div class="swiper-slide">
                            <div class="product-card">
                                <div class="product-card-top">
                                    <a asp-area="" asp-controller="Product" asp-action="ProductDetail" asp-route-productId="@newProduct.Id" asp-route-title="@newProduct.Title.FixTextForUrl()" class="product-image">
                                        <img src="@(PathExtensions.ProductImageThumb + newProduct.ImageName)" alt="@newProduct.Title">
                                    </a>
                                    <div class="product-card-actions">

                                    </div>
                                </div>
                                <div class="product-card-middle">
                                    <div class="ratings-container">
                                    </div>
                                    <h6 class="product-name text-center">
                                        <a asp-area="" asp-controller="Product" asp-action="ProductDetail" asp-route-productId="@newProduct.Id" asp-route-title="@newProduct.Title.FixTextForUrl()">
                                            @newProduct.Title
                                        </a>
                                    </h6>
                                    <div class="product-price product-price-clone">@newProduct.Price.ToString("#,0") تومان</div>
                                </div>
                                <div class="product-card-bottom">
                                    <div class="product-price">
                                        @newProduct.Price.ToString("#,0") تومان
                                    </div>
                                    <a href="#" class="btn-add-to-cart">
                                        <i class="fad fa-cart-plus"></i>
                                        نمایش جزئیات
                                    </a>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <!-- Add Arrows -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </section>
        @if (banner != null && banner.Any(s => s.BannerPlacement == BannerPlacement.Home_3))
        {
            <div class="row mb-5">
                @foreach (var banners in banner.Where(s => s.BannerPlacement == BannerPlacement.Home_3))
                {
                    <div class="@banners.ColSize">
                        <div class="banner">
                            <a href="@banners.Url">
                                <img src="@banners.GetBannerMainImageAddress()" alt="@banners.Alt">
                            </a>
                        </div>
                    </div>
                }

            </div>
        }
        <section class="product-carousel in-box">
            <div class="section-title">
                <i class="fas fa-angle-double-up"></i>
                گران ترین محصولات
            </div>
            <div class="swiper-container slider-lg">
                <div class="swiper-wrapper">
                    @foreach (var newProduct in Model.Item3)
                    {
                        <div class="swiper-slide">
                            <div class="product-card">
                                <div class="product-card-top">
                                    <a asp-area="" asp-controller="Product" asp-action="ProductDetail" asp-route-productId="@newProduct.Id" asp-route-title="@newProduct.Title.FixTextForUrl()" class="product-image">
                                        <img src="@(PathExtensions.ProductImageThumb + newProduct.ImageName)" alt="@newProduct.Title">
                                    </a>
                                    <div class="product-card-actions">

                                    </div>
                                </div>
                                <div class="product-card-middle">
                                    <div class="ratings-container">
                                    </div>
                                    <h6 class="product-name text-center">
                                        <a asp-area="" asp-controller="Product" asp-action="ProductDetail" asp-route-productId="@newProduct.Id" asp-route-title="@newProduct.Title.FixTextForUrl()">
                                            @newProduct.Title
                                        </a>
                                    </h6>
                                    <div class="product-price product-price-clone">@newProduct.Price.ToString("#,0") تومان</div>
                                </div>
                                <div class="product-card-bottom">
                                    <div class="product-price">
                                        @newProduct.Price.ToString("#,0") تومان
                                    </div>
                                    <a href="#" class="btn-add-to-cart">
                                        <i class="fad fa-cart-plus"></i>
                                        نمایش جزئیات
                                    </a>
                                </div>
                            </div>
                        </div>
                    }
                    <div class="swiper-slide">

                    </div>
                </div>
                <!-- Add Arrows -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </section>
        @if (banner != null && banner.Any(s => s.BannerPlacement == BannerPlacement.Home_4))
        {
            <div class="row mb-5">
                @foreach (var banners in banner.Where(s => s.BannerPlacement == BannerPlacement.Home_4))
                {
                    <div class="@banners.ColSize">
                        <div class="banner">
                            <a href="@banners.Url">
                                <img src="@banners.GetBannerMainImageAddress()" alt="@banners.Alt">
                            </a>
                        </div>
                    </div>
                }
            </div>
        }

        
    </div>
</main>
<!-- end Page Content -->
<!-- Page Footer -->
<!-- color switcher -->
<div id="colorswitch-option">
    <button><i class="fas fa-swatchbook"></i></button>
    <ul>
        <li data-path="/css/colors/amber.css"><span style="background-color: #ffab00;"></span></li>
        <li data-path="/css/colors/blue.css"><span style="background-color: #2962ff;"></span></li>
        <li data-path="/css/colors/brown.css"><span style="background-color: #3e2723;"></span></li>
        <li data-path="/css/colors/cyan.css"><span style="background-color: #00b8d4;"></span></li>
        <li data-path="/css/colors/green.css"><span style="background-color: #00c853;"></span></li>
        <li data-path="/css/colors/indigo.css"><span style="background-color: #304ffe;"></span></li>
        <li data-path="/css/colors/orange.css"><span style="background-color: #ff6d00;"></span></li>
        <li data-path="/css/colors/pink.css"><span style="background-color: #c51162;"></span></li>
        <li data-path="/css/colors/red.css"><span style="background-color: #d50000;"></span></li>
        <li data-path="/css/colors/teal.css"><span style="background-color: #009688;"></span></li>
        <li data-path="/css/colors/purple.css"><span style="background-color: #aa00ff;"></span></li>
        <li data-path="/css/colors/yellow.css"><span style="background-color: #ffd600;"></span></li>
    </ul>
</div>
<!-- end color switcher -->
<!-- Page Loader -->
<div class="page-loader">
    <div class="page-loader-content">
        <div class="logo-area">
            <img src="/Content/SiteLogo/445632bb1d884c17b77b22d9f6e7e944.png" alt="لوگوی سایت">
        </div>
        <span class="loader"></span>
    </div>
</div>
<!-- end Page Loader -->


